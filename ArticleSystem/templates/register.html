<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>注册</title>
  </head>
  <body>
    <h2>注册</h2>
    {% if messages %} {% for message in messages %}
    <p style="color: red">{{ message }}</p>
    {% endfor %} {% endif %}
    <form method="post">
      {% csrf_token %}
      <label for="username">用户名：</label>
      <input type="text" name="username" id="username" required /><br />
      <label for="password1">密码：</label>
      <input type="password" name="password1" id="password1" required /><br />
      <label for="password2">确认密码：</label>
      <input type="password" name="password2" id="password2" required /><br />
      <button type="submit">注册</button>
    </form>
    <p>已有账号？<a href="{% url 'login' %}">登录</a></p>
  </body>
</html>

<script>
  document.querySelector("form").addEventListener("submit", function (e) {
    const password1 = document.getElementById("password1").value;
    const password2 = document.getElementById("password2").value;
    if (password1 !== password2) {
      alert("两次输入的密码不一致");
      e.preventDefault();
    }
  });
</script>
